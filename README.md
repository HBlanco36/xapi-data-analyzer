# xapi-data-analyzer
This package was originally created by Walt Boettge and Harrison White, working under Dr. John Moore at the University of Wisconsin-Madison Department of Chemistry.

It was created with the goal of parsing and analyzing xAPI data created from H5P elements embedded within the CHEM 109 Pressbooks online textbook. The program relies on the data being present as an exported .csv file from the UW-Madison Learning Locker, and cleaned with DoIT's cleaning script.

### Note for developers: 
The CHEM 109 curriculum refers to Pressbooks chapters as "Days," which is why variable names within the code use this terminology. The program was somewhat generalized after a working version was created; however, the regular expression that determines the H5P ID list relies on H5P elements being named following this terminology. In order to adapt this project for your own usage, you'd probably have to modify the expression or accept a list of IDs as input.

## Installation
### For developers: 
Clone the repository and navigate to the root directory.

Next, run `pip install -e .`. This installs an "editable" version of the package that makes development easier by creating a .egg-info folder in the project directory, rather than installing the package system-wide. This allows you to test changes without having to reinstall every time.

Since the program is never installed system-wide, to remove it simply delete the .egg-info folder in the project directory.

### For users:
Make sure you have the latest version of Python 3 and pip installed.

Then, install the package using pip by running `pip install xapi-data-analyzer` __(once we publish it to PyPI).__

To uninstall, run `pip uninstall xapi-data-analyzer`.

## Usage
Simply run `xapi-data-analyzer` in the terminal.

The program will prompt you to enter a range of Pressbooks chapters. This range is inclusive. Only enter positive integers for these bounds, and make sure the lower bound is less than or equal to the upper bound.

### Input data
#### Data format
You will be prompted to enter the path to the .csv file containing the data. __This data must be in a very specific format__ -- that is, the format generated by the cleaning script written by the DoIT Learning Locker administrator, as seen below:
|Email|Verb|Question/Slide|H5P ID|Response|Correct Answer|Answer Bank|Raw Score|Max Score|Scaled Score (out of 1)|Duration|Date|Time|
|:---:|:--:|:------------:|:----:|:------:|:------------:|:---------:|:-------:|:-------:|:---------------------:|:------:|:--:|:--:|

#### Path to data
The file's absolute path or relative path may be used. For example, imagine the following directory hierarchy:
```
/
    home/
        user1/
            data/
                data5-15-20(cleaned).csv
                data5-15-20.csv
                data4-18-20(cleaned).csv
                data4-18-20.csv
```

Say the user runs `xapi-data-analyzer` in `~/` (which is equivalent to `/home/user1/`) with the intention of analyzing data from 5/15/2020. When prompted for the path to the data, the user could either enter `/home/user1/data/data5-15-20(cleaned).csv` (the absolute path) or `data/data5-15-20(cleaned).csv` (the relative path).

### What's saved
The program will save a spreadsheet for each chapter that you requested data about. These will be named `Chapter x.csv` and will be saved in the current directory. A spreadsheet containing information on students' time spent will also be saved, named `StudentDurations.csv`.
## License
This package is licensed under the MIT License. The full license text is available in LICENSE in the root directory.